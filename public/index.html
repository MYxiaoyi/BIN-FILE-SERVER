<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bin文件串口发送工具</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <h1>Bin文件串口发送工具</h1>
    
    <div class="container">
        <div class="panel">
            <h2>文件操作</h2>
            <div>
                <button id="refreshFiles">刷新文件列表</button>
                <button id="uploadFiles">上传文件</button>
            </div>
            <div>
                <label for="fileList">选择Bin文件:</label>
                <select id="fileList" size="5"></select>
            </div>
            <div>
                <label for="baudRate">波特率:</label>
                <select id="baudRate">
                    <option value="9600">9600</option>
                    <option value="19200">19200</option>
                    <option value="38400">38400</option>
                    <option value="57600">57600</option>
                    <option value="115200" selected>115200</option>
                    <option value="230400">230400</option>
                    <option value="460800">460800</option>
                    <option value="921600">921600</option>
                </select>
            </div>
            <div>
                <button id="sendFile" disabled>发送文件</button>
            </div>
            <div class="progress-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
            <div id="fileStatus" class="status"></div>
        </div>
        
        <div class="panel">
            <h2>串口操作</h2>
            <div>
                <button id="requestPort">选择串口</button>
                <button id="openPort" disabled>打开串口</button>
                <button id="closePort" disabled>关闭串口</button>
            </div>
            <div>
                <label>当前串口:</label>
                <div id="portInfo">未选择</div>
            </div>
            <div>
                <label for="dataBits">数据位:</label>
                <select id="dataBits">
                    <option value="7">7</option>
                    <option value="8" selected>8</option>
                </select>
            </div>
            <div>
                <label for="stopBits">停止位:</label>
                <select id="stopBits">
                    <option value="1" selected>1</option>
                    <option value="2">2</option>
                </select>
            </div>
            <div>
                <label for="parity">校验位:</label>
                <select id="parity">
                    <option value="none" selected>无</option>
                    <option value="even">偶校验</option>
                    <option value="odd">奇校验</option>
                </select>
            </div>
            <div id="portStatus" class="status"></div>
        </div>
    </div>
    
    <div class="panel">
        <h2>日志</h2>
        <div id="logOutput" style="height: 150px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px;"></div>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>